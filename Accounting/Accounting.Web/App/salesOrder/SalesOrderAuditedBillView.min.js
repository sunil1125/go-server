define(["require","exports","plugins/router","durandal/app","salesOrder/SalesOrderAuditedBillItemsView","services/models/salesOrder/SalesOrderItemDetail","services/client/SalesOrderClient","services/validations/Validations"],function(n,t,i,r,u,f,e,o){var v=i,y=r,s=u,h=f,c=e,l=o,a=function(){function n(n){this.salesOrderClient=null,this.salesOrderOriginalBillItem=ko.observableArray([]),this.salesOrderAuditedBillItem=ko.observableArray([]),this.selectedItemsList=ko.observableArray([]),this.mainOrderItemList=ko.observableArray([]),this.vendorBillItem=ko.observableArray([]),this.matchrowArray=ko.observableArray([]),this.orgZip=ko.observable(""),this.destZip=ko.observable(""),this.pro=ko.observable(""),this.po=ko.observable(""),this.ref=ko.observable(""),this.btnCopyEnable=ko.observable(!1),this.billDate=ko.observable(""),this.commonUtils=new Utils.Common,this.shipmentItemTypes=ko.observableArray([]),this.checkMsgDisplay=!0;var t=this;t.copyCostCall=n,t.salesOrderClient=new c.SalesOrderClient,t.salesOrderOriginalBillItemViewModel=new s.SalesOrderAuditedBillItemViewModel,t.salesOrderAuditedBillItemViewModel=new s.SalesOrderAuditedBillItemViewModel,t.selectedItem=new h.Models.SalesOrderItemDetail,t.datepickerOptions={blockWeekend:!0,blockPreviousDays:!1,blockHolidaysDays:!0,autoClose:!0,placeBelowButton:!1},t.checkMsgClick=function(){t.checkMsgDisplay=!0},t.checkMsgHide=function(){t.checkMsgDisplay=!0}}return n.prototype.initializeAuditedBillDetails=function(n){var t=this,i,r;t.salesOrderOriginalBillItemViewModel.gridHeader("Original Bill"),t.salesOrderOriginalBillItemViewModel.isSelect(!0),t.salesOrderAuditedBillItemViewModel.gridHeader("Audited Bill"),t.salesOrderAuditedBillItemViewModel.isSelect(!1),i=function(n){if(n!=null&&(t.billDate(n.VendorBill.BillDate?t.commonUtils.formatDate(n.VendorBill.BillDate.toString(),"mm/dd/yyyy"):""),t.destZip(n.VendorBill.DestinationZip),t.orgZip(n.VendorBill.OriginZip),t.pro(n.VendorBill.ProNumber),t.po(n.VendorBill.PoNumber),t.ref(n.VendorBill.ReferenceNumber),t.salesOrderOriginalBillItem().removeAll(),t.salesOrderAuditedBillItem().removeAll(),n.VendorBillItemsDetail.length>0)){t.btnCopyEnable(!0);for(var i=0;i<n.VendorBillItemsDetail.length;i++)n.VendorBillItemsDetail[i].IsBackupCopy==0?t.salesOrderOriginalBillItem().push(n.VendorBillItemsDetail[i]):t.salesOrderAuditedBillItem().push(n.VendorBillItemsDetail[i]);t.salesOrderOriginalBillItemViewModel.initializeSalesOrderAuditedBillItemDetails(t.salesOrderOriginalBillItem()),t.salesOrderAuditedBillItemViewModel.initializeSalesOrderAuditedBillItemDetails(t.salesOrderAuditedBillItem())}},r=function(){},t.salesOrderClient.GetSalesOrderAuditedBillDetailByVendorBillId(n,i,r)},n.prototype.convertTobillDateDate=function(){var n=this;n.billDate()!==undefined&&!n.billDate().match("/")&&n.billDate().length>0&&n.billDate(l.Validations.CommonDate.prototype.ConvertToDate(n.billDate()))},n.prototype.convertVendorbillitemtoSalesOrderitem=function(n){var t=this;t.convertItem=null,t.convertItem.ItemId=n.ItemId,t.convertItem.AccessorialId=n.AccessorialId,t.convertItem.ClassTypes=n.ClassTypes,t.convertItem.ClassTypes=n.ClassTypes},n.prototype.copyCostOnly=function(){var n=this,t,i;n.btnCopyEnable(!1),t=$.grep(n.salesOrderOriginalBillItemViewModel.salesOrderOriginalItemsList(),function(n){return n.isCheck()}),t.length>0?(t.forEach(function(t){n.selectedItem.ItemId=t.itemId(),n.selectedItem.Cost=t.cost(),n.selectedItem.UserDescription=t.userDescription(),n.selectedItem.Id=t.id(),n.selectedItemsList().push(n.selectedItem)}),n.copyCostCall(n.selectedItemsList())):n.checkMsgDisplay&&(n.checkMsgDisplay=!1,i={toastrPositionClass:"toast-top-middle",delayInseconds:15,fadeOut:15,typeOfAlert:"",title:""},Utility.ShowToastr(!0,ApplicationMessages.Messages.PleaseSelectanItem,"Success",n.checkMsgClick,i,n.checkMsgHide)),n.btnCopyEnable(!0)},n}();t.SalesOrderAuditedBillViewModel=a})