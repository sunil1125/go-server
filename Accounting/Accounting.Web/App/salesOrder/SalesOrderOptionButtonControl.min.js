define(["require","exports","durandal/system","services/models/common/OptionButton","../services/models/common/Enums","durandal/app"],function(n,t,i,r,u,f){var e=i,s=r,o=u,c=f,h=function(){function n(){this.optionList=ko.observableArray([]),this.optionListHV=ko.observableArray([]),this.optionListHV2=ko.observableArray([]),this.isHorizontalView=ko.observable(!1),this.isMatrix=ko.observable(!1),this.isVerticalView=ko.observable(!1),this.useHtmlBinding=ko.observable(),this.verticalControlSpace=ko.observable(),this.defaultverticalControlSpace="0px",this.checkMsgDisplay=!0,this.isIconButton=ko.observable(),this.isForceAttachChecked=!1,this.ischange=ko.observable(!1),this.dirtylength=0,this.isTabIndex=ko.observable(!0),this.onSelectionChanged=null;var n=this}return n.prototype.getSelectedOptions=function(){var n=this;return n.isMuiltiCheck?ko.utils.arrayFilter(n.optionList(),function(n){return n.selected()}):ko.utils.arrayFirst(n.optionList(),function(n){return n.selected()})},n.prototype.getTrackChange=function(){var t=this,i=[],n;for(n in t.optionList())t.optionList()[n].isDirty&&t.optionList()[n].isDirty()&&i.push(n);return i},n.prototype.isDirty=function(){return this.getTrackChange().length?!0:!1},n.prototype.initializeButton=function(n,t){var i=this,u,r;if(e.isObject(n))if(i.isMuiltiCheck=!1,e.isBoolean(n.isMultiCheck)&&(i.isMuiltiCheck=n.isMultiCheck),t===o.Enums.OptionButtonsView.Horizontal?i.isHorizontalView(!0):t===o.Enums.OptionButtonsView.Vertical?i.isVerticalView(!0):t===o.Enums.OptionButtonsView.Matrix&&i.isMatrix(!0),i.useHtmlBinding(!1),e.isBoolean(n.useHtmlBinding)&&i.useHtmlBinding(n.useHtmlBinding),i.isOnOffRadioButton=!1,e.isBoolean(n.isOnOffRadioButton)&&(i.isOnOffRadioButton=n.isOnOffRadioButton),i.verticalControlSpace(n.verticalControlSpace||i.defaultverticalControlSpace),i.isIconButton(!1),e.isBoolean(n.isIconButton)&&i.isIconButton(n.isIconButton),i.isIconButton()&&i.useHtmlBinding(!0),e.isBoolean(n.allowTrackChange)||(n.allowTrackChange=!1),i.optionList.removeAll(),e.isObject(n.options))for(u=0;u<n.options.length;u++)r=n.options[u],i.optionList.push(new s.OptionButtonModel(r.name,r.id,r.selected,r.enabled,r.iconClassName,r.isIconButton,n.allowTrackChange)),r.isIconButton&&!i.useHtmlBinding()&&i.useHtmlBinding(!0);else throw"options is undefined [Option button control].";else throw"undefined arguments passed to Option button control.";i.getOptionsById=function(n){return ko.utils.arrayFirst(i.optionList(),function(t){return t.id===n})},i.selectOption=function(n){if(i.isMuiltiCheck){var t=ko.utils.arrayFirst(i.optionList(),function(t){return t===n});t.selected(t.selected()?!1:!0)}else i.isOnOffRadioButton?i.getSelectedOptions()?i.getSelectedOptions()===n&&n.selected(n.selected()?!1:!0):n.selected(!0):(i.getSelectedOptions()&&i.getSelectedOptions().selected(!1),n.selected(!0));if(i.onSelectionChanged&&e.isFunction(i.onSelectionChanged)&&i.onSelectionChanged.apply(null,[this]),i.ischange(!0),i.onChangesMade&&typeof i.onChangesMade=="function")i.onChangesMade(!0)},i.setSelectOption=function(n){i.selectOption(n)},i.setSelectById=function(n){var t=this;t.isMuiltiCheck||ko.utils.arrayForEach(t.optionList(),function(n){n.selected(!1)}),t.getOptionsById(n).selected(!0)},i.setEnableById=function(n,t){var r=i.getOptionsById(n);r.enabled(t),r.enabled()||r.selected(!1)},i.hasSelectedOptions=function(){return i.isMuiltiCheck?i.getSelectedOptions()?!0:!1:i.getSelectedOptions(!0)?!0:!1},i.enableControl=function(n){ko.utils.arrayForEach(i.optionList(),function(t){t.enabled(n)})},i.unSelectAll=function(){ko.utils.arrayForEach(i.optionList(),function(n){n.selected(!1)})},i.checkMsgClick=function(){i.checkMsgDisplay=!0},i.checkMsgHide=function(){i.checkMsgDisplay=!0}},n}();t.SalesOrderOptionButtonControl=h})