define(["require","exports","durandal/system"],function(n,t,i){var r=i,u;(function(n){var t=function(){function n(n,t){this.id=ko.observable(0),this.items=ko.observable(0),this.itemId=ko.observable(0),this.totalcheck=ko.observable(0),this.selectedItemTypes=ko.observable(),this.selectedShippmentItemTypes=ko.observable(),this.cost=ko.observable(),this.rev=ko.observable(),this.originalRevenue=ko.observable(),this.pieceCount=ko.observable(),this.palletCount=ko.observable(),this.selectedClassType=ko.observable(),this.weight=ko.observable(),this.dimensionLength=ko.observable(),this.dimensionWidth=ko.observable(),this.dimensionHeight=ko.observable(),this.userDescription=ko.observable(),this.allowvalidation=ko.observable(!0),this.isMarkForDeletion=ko.observable(!1),this.selectedPackageType=ko.observable(),this.isHazardous=ko.observable(!1),this.hazmatUnNumber=ko.observable(""),this.packingGroup=ko.observable(""),this.hazardousClass=ko.observable(),this.nmfc=ko.observable(),this.bSCost=ko.observable(),this.salesOrderId=ko.observable(0),this.accessorialId=ko.observable(0),this.productCode=ko.observable(),this.itemsList=ko.observableArray([]),this.isNotAtLoadingTime=!1,this.isPallet=!1,this.isPiece=!1,this.isCheck=ko.observable(!1);var i=this;return r.isObject(n)&&(i.selectedItemTypes(n),i.selectedShippmentItemTypes(n.ShortDescription)),i.id=ko.observable(0),r.isObject(n)&&n.ItemId!==Constants.ApplicationConstants.ShippingItemId&&i.userDescription(n.ShortDescription),i.isNumber=function(n,t){var i=t.which?t.which:t.keyCode;return i>31&&i!=46&&(i<48||i>57)?!1:!0},i.rev.subscribe(function(){i.selectedItemTypes()&&i.selectedItemTypes().ItemId===Constants.ApplicationConstants.DiscountItemId&&parseFloat(i.rev().toString())>0&&i.rev(Number(parseFloat(i.rev().toString())*-1).toFixed(2))}),i.isCheck.subscribe(function(){t()}),i}return n.prototype.initializeSalesOrderItem=function(n,t){var i=this;i.totalcheck(t),n!=null&&(i.id(n.Id),i.itemId(n.ItemId),i.cost($.number(n.Cost,2)),i.rev($.number(n.Revenue,2)),i.originalRevenue($.number(n.Revenue,2)),i.pieceCount(n.ItemId===10?n.PieceCount:0),i.weight(n.Weight),i.dimensionLength(n.Length),i.dimensionWidth(n.Width),i.dimensionHeight(n.Height),i.userDescription(n.UserDescription),i.selectedPackageType(n.PackageTypeId),i.nmfc(n.NMFC),i.selectedClassType(n.Class),i.palletCount(n.PalletCount),i.isHazardous(n.Hazardous),i.hazmatUnNumber(n.HazardousUNNo),i.hazardousClass(n.HazmatClass),i.packingGroup(n.PackingGroupNo),i.bSCost(n.PLCCost),i.isCheck(n.isChecked),i.items(n.Items),i.salesOrderId(n.SalesOrderId),i.accessorialId(n.AccessorialId),i.productCode(n.ProductCode))},n.prototype.formatDecimalNumber=function(n){var f=this,t=n();if(t){var r=t+"",u=r.indexOf("-")!==-1,i=r.split(".");i&&i.length>2&&(t=i[0]+"."+i[1]),i.length===1&&t&&t.length>8&&(t=t.replace(/[^0-9]/g,""),t=t.replace(/(\d{8})(\d{2})/,"$1.$2"),n(t)),(i.length===1||i&&(i.length===0||i[1]||i[1]===""))&&t&&t.length>=1&&t.length<=8&&(/\.\d$/.test(t)?t+="0":/\.$/.test(t)?t+="00":/\.\d{2}$/.test(t)||(t+=".00")),u===!0&&(t="-"+(t+"").split("-")[1]),n(t)}},n}();n.SalesOrderReBillItemsModel=t})(t.Models||(t.Models={})),u=t.Models})